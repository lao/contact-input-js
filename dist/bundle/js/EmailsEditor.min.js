var a,b;a=this,b=function(){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=e||{})&&e.container&&this.initValues(e).renderMainContainer().initListeners()}var e,t,i;return e=n,(t=[{key:"destroy",value:function(){}},{key:"initValues",value:function(e){return this.emails={},this.onChange=e.onChange,this.container=e.container,this}},{key:"initListeners",value:function(){var o=this,e=this.container,n=e.querySelector("input"),t=e.querySelector(".ballons-container"),l=13,c=188;return n.addEventListener("paste",function(e){var n=e||{},t=n.currentTarget,i=n.clipboardData.getData("text");o.renderEmails(t.value+i).cleanInput(),e.preventDefault()}),n.addEventListener("keyup",function(e){var n=e||{},t=n.keyCode,i=n.currentTarget,r=n.ctrlKey,a=n.metaKey;return t!==c&&t!==l||o.renderEmails(i.value).cleanInput(),!a&&!r&&e}),t.addEventListener("click",function(e){var n="remove-icon-svg"===e.target.getAttribute("class")?e.target.parentElement:e.target;"remove-icon"===n.className&&(alert(e.target),t.removeChild(n.parentElement))}),this}},{key:"renderEmail",value:function(e,n){var t=document.createElement("div");return t.className=n?"ballon":"invalid ballon",t.innerHTML="".concat(e,' <div class="remove-icon">').concat('<svg class="remove-icon-svg" width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8 0.8L7.2 0L4 3.2L0.8 0L0 0.8L3.2 4L0 7.2L0.8 8L4 4.8L7.2 8L8 7.2L4.8 4L8 0.8Z" fill="#050038"/>\n</svg>',"</div>"),t}},{key:"renderEmails",value:function(e){var t=this,i=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/g,n=(e||"").split(","),r=document.createDocumentFragment();n.map(function(e){if((e+"").trim()){var n=i.exec(e);r.appendChild(t.renderEmail(e,!!n))}});var a=this.container.querySelector(".input-container");return this.container.querySelector(".ballons-container").insertBefore(r,a),this}},{key:"cleanInput",value:function(){return this.container.querySelector("input").value="",this}},{key:"renderMainContainer",value:function(){return this.container.innerHTML='\n      <div class="container">\n        <div class="top">\n          <h1>Share <strong>Board name</strong> with others</h1>\n          <div class="text-container">\n            <div class="ballons-container">\n              <div class="input-container"><input placeholder="add more people..."/></div>\n            </div>\n          </div>\n        </div>\n        <div class="bottom">\n          <button>\n            Add email\n          </button>  \n          <button>\n            Get emails count\n          </button>\n        </div>\n      </div>\n    ',this}}])&&r(e.prototype,t),i&&r(e,i),n}()},"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.emailsEditor=b();
//# sourceMappingURL=EmailsEditor.min.js.map
